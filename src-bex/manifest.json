{
    "manifest_version": 3,
    "update_url": "https://raw.githubusercontent.com/AngeloEyez/Foxina/main/updates.xml",

    "icons": {
        "16": "icons/1/16.png",
        "48": "icons/1/48.png",
        "128": "icons/1/128.png"
    },

    "permissions": ["storage", "unlimitedStorage", "tabs", "activeTab", "webNavigation", "webRequest"],
    "host_permissions": ["*://*/*"],

    "action": {
        "default_title": "Foxina : 狐狸小槍手",
        "default_popup": "www/index.html#/popup"
    },
    "options_page": "www/index.html",

    "background": {
        "service_worker": "background.js"
    },

    "content_scripts": [
        {
            "matches": ["*://iedu.foxconn.com/*/examUI*", "*://iedu.foxconn.com/*/examTaskUI*"],
            "js": ["ieduFillAns.js"]
        },
        {
            "matches": ["*://iedu.foxconn.com/*/submitExam*"],
            "js": ["ieduGetAns.js"]
        },
        {
            "matches": ["*://iedu.foxconn.com/*/playCourse?courseId=*", "*://iedu.foxconn.com/*/play?courseId=*"],
            "js": ["playCourse.js"]
        },
        {
            "matches": ["*://elearning.efoxconn.com/*"],
            "js": ["eLearning.js"]
        },
        {
            "matches": ["*://*/*"],
            "css": ["assets/content.css"],
            "js": ["my-content-script.js"]
        }
    ],

    "content_security_policy": {
        "extension_pages": "script-src 'self'; object-src 'self';"
    },

    "web_accessible_resources": [
        {
            "resources": ["*"],
            "matches": ["*://*/*"]
        }
    ]
}
